(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{15:function(e,t,a){},30:function(e,t,a){},36:function(e,t,a){e.exports=a(66)},41:function(e,t,a){},66:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(32),s=a.n(l),c=a(1),i=a(2),o=a(4),m=a(3),u=a(6),h=(a(41),a(5)),d=a.n(h),p=function(e,t){return d.a.post("/api/auth/signup",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},E=function(e,t){return d.a.post("/api/auth/login",{username:e,password:t}).then((function(e){return e.data})).catch((function(e){return e.response.data}))},v=(a(15),a(59),function(e){d.a.delete("/api/auth/logout").then((function(e){return e.data})).catch((function(e){return e.response.data})).then((function(){console.log("loggedout",e),e.setUser(null)}))}),g=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={isActive:!1},e.toggle=function(){e.setState({isActive:!e.state.isActive})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t="navbar-menu";return this.state.isActive&&(t+=" is-active"),this.props.user?r.a.createElement(r.a.Fragment,null,r.a.createElement("nav",{className:"navbar",role:"navigation","aria-label":"main navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement("a",{className:"navbar-item",href:"/"},r.a.createElement("img",{src:"/icon_swap.png",alt:"",height:"28"})),r.a.createElement("div",{className:"navbar-item"},"Welcome, ",this.props.user.username),r.a.createElement("a",{role:"button",className:"navbar-burger burger","data-target":"navMenu","aria-label":"menu","aria-expanded":"false",onClick:this.toggle},r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}),r.a.createElement("span",{"aria-hidden":"true"}))),r.a.createElement("div",{className:t,id:"navMenu"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement("a",{className:"navbar-item",href:"/dashboard"},"Dashboard"),r.a.createElement("a",{className:"navbar-item",href:"/messages/".concat(this.props.user._id)},"Messages"),r.a.createElement("a",{className:"navbar-item",href:"/add"},"Add Item"),r.a.createElement("a",{className:"navbar-item",href:"/myfavs"},"Favourites"),r.a.createElement("div",{className:"navbar-item has-dropdown is-hoverable"},r.a.createElement("a",{className:"navbar-link"},"Search"),r.a.createElement("div",{className:"navbar-dropdown"},r.a.createElement("a",{className:"navbar-item",href:"/search"},"Search an item"),r.a.createElement("a",{className:"navbar-item",href:"/finduser"},"Find a User")))),r.a.createElement("div",{className:"navbar-end"},r.a.createElement("div",{className:"navbar-item"},r.a.createElement("div",{className:"buttons"},r.a.createElement("a",{className:"button is-danger is-light",href:"/",onClick:function(){return v(e.props)}},"Logout"))))))):null}}]),a}(n.Component),f=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement("div",{className:"hero-image"}),r.a.createElement("div",{className:"hero-text"},r.a.createElement("h1",{style:{fontSize:"50px"}},"Swapsies"),r.a.createElement("h3",null,"Have an item you don't want anymore?",r.a.createElement("br",null),"You know how to cook, sing or maybe code and could give an intro over video chat?",r.a.createElement("br",null),"On swapsies you'll find other people for swapping!"),r.a.createElement("div",{className:"buttons",style:{display:"block",margin:"1rem"}},r.a.createElement("a",{className:"button is-link is-light",href:"/signup"},"Sign up"),r.a.createElement("a",{className:"button is-link is-light",href:"/login"},"Log in"))))}}]),a}(n.Component),b=a(13),y=(a(30),function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(b.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;p(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/dashboard"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field input-form"},r.a.createElement("h1",null,"Sign Up"),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Username"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{class:"input",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username",placeholder:"My username"}))),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Password"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{class:"input",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",placeholder:"My password"}))),r.a.createElement("div",{className:"notice"},this.state.message&&r.a.createElement("p",null,this.state.message)),r.a.createElement("div",{class:"field is-grouped"},r.a.createElement("div",{class:"control"},r.a.createElement("button",{type:"submit",value:"Signup",class:"button is-link is-light"},"Sign up")),r.a.createElement("div",{class:"control"},r.a.createElement("button",{class:"button is-link is-light"},"Cancel")))))}}]),a}(n.Component)),S=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:"",password:"",message:""},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(b.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.username,r=a.password;E(n,r).then((function(t){t.message?e.setState({message:t.message,username:"",password:""}):(e.props.setUser(t),e.props.history.push("/dashboard"))}))},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"field input-form"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"field"},r.a.createElement("label",{class:"label"},"Username"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{class:"input",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,id:"username",placeholder:"My username"}))),r.a.createElement("div",{className:"field"},r.a.createElement("label",{class:"label"},"Password"),r.a.createElement("div",{className:"control"},r.a.createElement("input",{class:"input",type:"password",name:"password",value:this.state.password,onChange:this.handleChange,id:"password",placeholder:"My password"}))),r.a.createElement("div",{className:"notice"},this.state.message&&r.a.createElement("p",null,this.state.message)),r.a.createElement("div",{className:"field is-grouped"},r.a.createElement("div",{className:"control"},r.a.createElement("button",{type:"submit",value:"Login",class:"button is-link is-light"},"Login")),r.a.createElement("div",{className:"control"},r.a.createElement("button",{class:"button is-link is-light"},"Cancel")))))}}]),a}(n.Component),C=a(18),w=a.n(C),O=a(33),N=a(35),j=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={username:e.props.user.username,profileImgPath:e.props.user.profileImgPath||"",selectedImage:null,bio:e.props.user.bio,email:e.props.user.email,location:e.props.user.location,locationOptions:["Select Kiez","Charlottenburg","Friedrichshain","Kreuzberg","Mitte","Moabit","Neuk\xf6lln","Sch\xf6neberg","Wedding","Wilmersdorf","Janz weit drau\xdfen"],addWish:"",wishList:e.props.user.wishList||[]},e.handleChange=function(t){var a,n=t.target,r=n.name,l=n.value;e.setState((a={},Object(b.a)(a,r,l),Object(b.a)(a,"profileImgPath",e.state.profileImgPath),a))},e.handleImageChange=function(t){console.log("this is the event.target.files[0]",t.target.files[0]),e.setState({selectedImage:t.target.files[0]}),console.log("this.state.selectedImage before upload: ",e.state.selectedImage)},e.handleWishlistChange=function(t){var a=e.state.addWish;e.setState({wishList:[].concat(Object(N.a)(e.state.wishList),[a])})},e.handleSubmit=function(){var t=Object(O.a)(w.a.mark((function t(a){var n,r,l,s;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),!e.state.selectedImage){t.next=11;break}return r=new FormData,console.log(e.state.selectedImage,"this state selected image before upload append"),r.append("imageUrl",e.state.selectedImage),t.next=7,d.a.post("/api/user/upload",r);case 7:l=t.sent,n=l.data.secure_url,t.next=12;break;case 11:n=e.props.user.profileImgPath;case 12:s={username:e.state.username,email:e.state.email,bio:e.state.bio,location:e.state.location,id:e.props.user._id,wishList:e.state.wishList},d.a.put("/api/user/".concat(s.id),{username:s.username,email:s.email,bio:s.bio,location:s.location,profileImgPath:n,wishList:s.wishList}).then((function(t){console.log(t);var a=t.data;e.props.setUser(a)})).then((function(){e.props.history.push("/dashboard")})).catch((function(e){console.log("Error updating user info",e)}));case 14:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.email,n=e.bio,l=e.wishList,s=e.location,c=e.locationOptions,i=e.addWish;return r.a.createElement("div",{className:"main"},r.a.createElement("h2",null,"Edit your profile:"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Username:"),r.a.createElement("input",{type:"text",name:"username",value:t,onChange:this.handleChange}),r.a.createElement("label",null,"Bio:"),r.a.createElement("input",{type:"text",name:"bio",placeholder:"Tell us about yourself",value:n,onChange:this.handleChange}),r.a.createElement("label",null,"Email:"),r.a.createElement("input",{type:"text",name:"email",placeholder:"Add email address",value:a,onChange:this.handleChange}),r.a.createElement("label",null,"Location:"),r.a.createElement("select",{name:"location",value:s,onChange:this.handleChange},c.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),r.a.createElement("label",null,"Profile pic:"),r.a.createElement("input",{type:"file",name:"imageUrl",onChange:this.handleImageChange}),r.a.createElement("h3",null,"Wish list"),r.a.createElement("ul",null,r.a.createElement("li",null," ",0===l.length?r.a.createElement("p",null,"There are no items or services in your wish list"):l.map((function(e){return r.a.createElement("p",{key:e},e)})))),r.a.createElement("input",{type:"text",name:"addWish",value:i,onChange:this.handleChange}),r.a.createElement("button",{type:"button",onClick:this.handleWishlistChange},"Add item to wish list"),r.a.createElement("button",{type:"submit"},"Update profile")))}}]),a}(n.Component),k=a(7),U=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).deleteItem=function(t){d.a.delete("/api/items/".concat(t.target.value)).then((function(t){console.log(t.data),e.props.setUser(t.data)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user.inventory.filter((function(e){if("Thing"===e.type)return!0})).map((function(t){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main",key:t._id},r.a.createElement("ul",null,r.a.createElement("li",null,"Name: ",t.name),r.a.createElement("li",null,r.a.createElement("img",{src:"",alt:"image here"})),r.a.createElement("li",null,"Category: ",t.category),r.a.createElement("li",null,"Description: ",t.description),e.props.user._id===e.props.loggedInUser._id?r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,"Status: ",t.status),r.a.createElement("br",null),r.a.createElement(k.b,{to:"/items/".concat(t._id)},r.a.createElement("button",null,"Edit")),r.a.createElement("button",{id:t._id,name:t,value:t._id,onClick:e.deleteItem},"Delete")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,"Status: ",t.status),r.a.createElement(k.b,{to:"/swap/".concat(t._id)},r.a.createElement("button",{id:t._id},"Offer Swap")))),r.a.createElement("hr",null)))}));return r.a.createElement("div",null,t.length<1?this.props.loggedInUser._id===this.props.user._id?r.a.createElement(k.b,{to:"/add"},"Add an Item"):"":r.a.createElement(r.a.Fragment,null," ",r.a.createElement("h4",null,"List of Things"),t))}}]),a}(n.Component),_=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){return Object(c.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user.inventory.filter((function(e){if("Service"===e.type)return!0})).map((function(t){return r.a.createElement("div",{className:"main"},r.a.createElement("div",{key:t._id},r.a.createElement("ul",null,r.a.createElement("li",null,"Name: ",t.name),r.a.createElement("li",null,"Description: ",t.description),e.props.user._id===e.props.loggedInUser._id?r.a.createElement(r.a.Fragment,null,r.a.createElement(k.b,{to:"/items/".concat(t._id)},r.a.createElement("button",null,"Edit")),r.a.createElement("button",{id:t._id,onClick:"function(this.id)"},"Delete")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,"Status: ",t.status),r.a.createElement(k.b,{to:"/swap/".concat(t._id)},r.a.createElement("button",{id:t._id},"Offer Swap")))),r.a.createElement("hr",null)))}));return r.a.createElement("div",{className:"main"},t.length<1?this.props.loggedInUser._id===this.props.user._id?r.a.createElement(k.b,{to:"/add"},"Add an Item"):"":r.a.createElement(r.a.Fragment,null," ",r.a.createElement("h4",null,"List of Services"),t))}}]),a}(n.Component),A=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={editForm:!1},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.user._id;return d.a.get("/api/user/".concat(t)).then((function(t){e.props.setUser(t.data)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.user,t=e.username,a=e.profileImgPath,n=e.location,l=e.bio,s=e.email,c=e.wishList;e.messages,e.inventory,e._id;return r.a.createElement("div",{className:"main"},r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement("h3",null,"Welcome"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("div",{className:"chip"},r.a.createElement("img",{src:a||"https://media.giphy.com/media/gZEBpuOkPuydi/giphy.gif",alt:"profileImg",width:"96",height:"96"}),t)),r.a.createElement("li",null,s?r.a.createElement("p",null,"Email: ",s):r.a.createElement("p",null)),r.a.createElement("li",null," ","Select Kiez"!==n?r.a.createElement("p",null,"Kiez:",n):r.a.createElement("p",null)),r.a.createElement("li",null,l?r.a.createElement("p",null,"Bio: ",l):r.a.createElement("p",null)),r.a.createElement("li",null,r.a.createElement("h3",null,"WishList:"),r.a.createElement("ul",null,c?c.map((function(e){return r.a.createElement("li",{key:e},e)})):r.a.createElement("div",null,r.a.createElement("p",null,"There is nothing in your wish list"))))),r.a.createElement(k.b,{to:"/edit"},"Edit Profile")),r.a.createElement("div",null,r.a.createElement("h3",null,"My Stuff"),r.a.createElement(k.b,{to:"/add"},"Add"),r.a.createElement(_,{setUser:this.props.setUser,user:this.props.user,loggedInUser:this.props.user}),r.a.createElement(U,{setUser:this.props.setUser,user:this.props.user,loggedInUser:this.props.user,history:this.props.history})))}}]),a}(n.Component),F=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={name:"",type:"",category:"",description:"",location:e.props.user.location,locationOptions:["Select Kiez","All","Charlottenburg","Friedrichshain","Kreuzberg","Mitte","Moabit","Neuk\xf6lln","Sch\xf6neberg","Wedding","Wilmersdorf","Janz weit drau\xdfen"]},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(b.a)({},n,r))},e.handleImageChange=function(e){},e.handleSubmit=function(t){t.preventDefault();var a=e.state,n=a.name,r=a.category,l=a.location,s=a.description,c=a.type;return"Service"===c&&(r="None"),d.a.post("/api/items",{owner:e.props.user._id,favourites:0,status:"Available",name:n,description:s,location:l,type:c,category:r}).then((function(t){e.setState({name:"",description:"",type:"",category:"",location:e.props.user.location}),e.props.setUser(t.data),console.log(t),e.props.getData()})).then((function(){e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=(e.name,e.description,e.location),a=e.locationOptions,n=e.type;return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Add new item")),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Is this a service or thing?"),r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select"},r.a.createElement("select",{id:"type",name:"type",onChange:this.handleChange},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"Thing"},"Thing"),r.a.createElement("option",{value:"Service"},"Service"))))),"Service"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Category"),r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select"},r.a.createElement("select",{id:"category",name:"category",onChange:this.handleChange},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"Furniture"},"Furniture"),r.a.createElement("option",{value:"Plants"},"Plants")))))),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Name"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{class:"input",type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:"name",placeholder:"Name of item"}))),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Description"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{class:"input",type:"text",name:"description",value:this.state.description,onChange:this.handleChange,id:"description",placeholder:"Add a description"}))),r.a.createElement("label",null,"Location:"),r.a.createElement("select",{name:"location",value:t,onChange:this.handleChange},a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))),"Service"!==n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Add photos"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{type:"file",name:"itemImageUrl",onChange:this.handleImageChange})))),r.a.createElement("div",{class:"control"},r.a.createElement("button",{type:"submit",value:"add",class:"button is-link is-light"},"Add")))}}]),a}(n.Component),I=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={search:"",category:"",type:"",availableCheck:!0,reservedCheck:!0,swappedCheck:!0,location:"Select Kiez",locationOptions:["Select Kiez","All","Charlottenburg","Friedrichshain","Kreuzberg","Mitte","Moabit","Neuk\xf6lln","Sch\xf6neberg","Wedding","Wilmersdorf","Janz weit drau\xdfen"]},e.handleAvailableCheck=function(t){e.setState({availableCheck:t.target.checked})},e.handleReservedCheck=function(t){e.setState({reservedCheck:t.target.checked})},e.handleSwappedCheck=function(t){e.setState({swappedCheck:t.target.checked})},e.handleSearchChange=function(t){e.setState({search:t.target.value}),console.log(t.target.value)},e.handleTypeSelect=function(t){e.setState({type:t.target.value})},e.handleCategorySelect=function(t){e.setState({category:t.target.value})},e.handleKiezSelect=function(t){console.log("target value",t.target.value),e.setState({location:t.target.value})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.user._id,a=this.state.location,n=this.state.locationOptions,l=this.props.itemsList.filter((function(t){return(t.location===e.state.location||"Select Kiez"===e.state.location||"All"===e.state.location)&&(t.name.toLowerCase().includes(e.state.search.toLowerCase())||t.category.toLowerCase().includes(e.state.search.toLowerCase())||t.description.toLowerCase().includes(e.state.search.toLowerCase())?t:void 0)})),s=l.filter((function(t){return""===e.state.category?"Thing"===t.type:"Thing"===t.type&&t.category===e.state.category})),c=s.filter((function(t){return!!function(t){return!!e.state.availableCheck&&"Available"===t.status}(t)||(!!function(t){return!!e.state.reservedCheck&&"Reserved"===t.status}(t)||!!function(t){return!!e.state.swappedCheck&&"Swapped"===t.status}(t))})),i=l.filter((function(e){return"Service"===e.type})),o=c.map((function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media",style:{marginBottom:"0.7rem"}},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-48x48"},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1551298698-66b830a4f11c",alt:"Red room"}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},r.a.createElement("a",{href:"/"},e.name)),r.a.createElement("p",{className:"subtitle is-6",style:{marginBottom:"0.5rem"}},e.location),r.a.createElement("p",{className:"subtitle is-6",style:{marginBottom:"0.5rem"}},"Favourites: ",e.favourites))),r.a.createElement("div",{className:"content"},e.description,r.a.createElement("br",null),"Status: ",e.status,e.owner._id===t?r.a.createElement("p",null,"My post"):r.a.createElement("p",null,"Post by",r.a.createElement(r.a.Fragment,null," "),r.a.createElement("a",{href:"/user/".concat(e.owner._id)},e.owner.username)))),r.a.createElement("footer",{className:"card-footer"},r.a.createElement("a",{href:"#",class:"card-footer-item"},"Add to Favourites"),r.a.createElement("a",{href:"/swap/".concat(e._id),class:"card-footer-item"},"Offer Swap")))})),m=i.map((function(e){return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"media",style:{marginBottom:"0.7rem"}},r.a.createElement("div",{className:"media-left"},r.a.createElement("figure",{className:"image is-48x48"},r.a.createElement("img",{src:"https://images.unsplash.com/photo-1551298370-9d3d53740c72",alt:"Yellow chair"}))),r.a.createElement("div",{className:"media-content"},r.a.createElement("p",{className:"title is-4"},r.a.createElement("a",{href:"/"},e.name)),r.a.createElement("p",{className:"subtitle is-6",style:{marginBottom:"0.5rem"}},e.location),r.a.createElement("p",{className:"subtitle is-6",style:{marginBottom:"0.5rem"}},"Favourites: ",e.favourites))),r.a.createElement("div",{className:"content"},e.description,e.owner._id===t?r.a.createElement("p",null,"My post"):r.a.createElement("p",null,"Post by",r.a.createElement(r.a.Fragment,null," "),r.a.createElement("a",{href:"/user/".concat(e.owner._id)},e.owner.username)))),r.a.createElement("footer",{class:"card-footer"},r.a.createElement("a",{href:"#",class:"card-footer-item"},"Add to Favourites"),r.a.createElement("a",{href:"/swap/".concat(e._id),class:"card-footer-item"},"Offer Swap")))}));return r.a.createElement("div",{className:"main"},r.a.createElement("label",{className:"label"},"What are you looking for?"),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"itemtype",name:"itemtype",onChange:this.handleTypeSelect},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"Thing"},"Thing"),r.a.createElement("option",{value:"Service"},"Service"))))),"Thing"===this.state.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"label"},"Find by Category"),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"category",onChange:this.handleCategorySelect},r.a.createElement("option",{value:""},"All"),r.a.createElement("option",{value:"Plants"},"Plants"),r.a.createElement("option",{value:"Furniture"},"Furniture")))))),""!==this.state.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"field has-addons"},r.a.createElement("div",{className:"control"},r.a.createElement("input",{className:"input",name:"search",type:"text",placeholder:"Search",id:"search",value:this.state.search,onChange:this.handleSearchChange})),r.a.createElement("div",{className:"control"},r.a.createElement("a",{className:"button"},"Search")))),""!==this.state.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"label"},"Location:"),r.a.createElement("div",{className:"field"},r.a.createElement("div",{className:"control"},r.a.createElement("div",{className:"select"},r.a.createElement("select",{id:"location",name:"location",value:a,onChange:this.handleKiezSelect},n.map((function(e){return r.a.createElement("option",{value:e,key:e},e)}))))))),"Thing"===this.state.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"checkbox",style:{marginRight:"1rem"}},r.a.createElement("input",{type:"checkbox",name:"Available",id:"available",checked:this.state.availableCheck,onChange:this.handleAvailableCheck}),"Available"),r.a.createElement("label",{className:"checkbox",style:{marginRight:"1rem"}},r.a.createElement("input",{type:"checkbox",name:"Reserved",id:"reserved",checked:this.state.reservedCheck,onChange:this.handleReservedCheck}),"Reserved"),r.a.createElement("label",{className:"checkbox",style:{marginRight:"1rem"}},r.a.createElement("input",{type:"checkbox",name:"Swapped",id:"swapped",checked:this.state.swappedCheck,onChange:this.handleSwappedCheck}),"Swapped")),r.a.createElement("div",null,"Thing"===this.state.type&&r.a.createElement("div",{className:"flex-container"},o)),r.a.createElement("div",null,"Service"===this.state.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"flex-container"},m))))}}]),a}(n.Component),x=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},"Find a User")}}]),a}(n.Component),L=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},"Favourites")}}]),a}(n.Component),D=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main"},"Oops! Page Not Found")}}]),a}(n.Component),M=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={otherUser:e.props.user},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.userId;return d.a.get("/api/user/".concat(t)).then((function(t){e.setState({otherUser:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",null," ",r.a.createElement(U,{user:this.state.otherUser,loggedInUser:this.props.user}),r.a.createElement(_,{user:this.state.otherUser,loggedInUser:this.props.user}))}}]),a}(n.Component),P=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={message:""},e.handleChange=function(t){var a=t.target,n=(a.name,a.value);e.setState({message:n})},e.handleSubmit=function(t){t.preventDefault();var a=!1;return e.props.user._id===e.props.chat.userReceive._id&&(a=!0),d.a.put("/api/chat",{id:e.props.chat._id,messages:[{sentByOwner:a,msg:e.state.message}]}).then((function(){e.setState({message:""}),e.props.setChat(),e.props.setUser(e.props.user)})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this,t=this.props.chat,a=t.item,n=t.messages,l=t.userSend,s=t.userReceive,c=(t._id,n.map((function(t){return r.a.createElement("div",null,r.a.createElement("ul",null,r.a.createElement("li",null," ",t.sentByOwner?e.props.user._id===s._id?"You":s.username:e.props.user._id===l._id?"You":l.username,": "," "," ",t.msg),r.a.createElement("li",null,"Sent:"," ",t.time)))})));return r.a.createElement(r.a.Fragment,null,r.a.createElement("h3",null,"Item: ",a.name),r.a.createElement("ul",null,r.a.createElement("li",null,"From: ",this.props.user._id===l._id?r.a.createElement(k.b,{to:"/user/".concat(s._id)},s.username):r.a.createElement(k.b,{to:"/user/".concat(l._id)},l.username)),r.a.createElement("li",null,"Type: ",a.type),r.a.createElement("li",null,"Description: ",a.description),r.a.createElement("li",null,"Status: ",a.status)),r.a.createElement("h2",null,"Messages:"),c,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("textarea",{id:"message",onChange:this.handleChange,value:this.state.message,placeholder:"Your message here"}),r.a.createElement("button",null,"Send")))}}]),a}(n.Component),W=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={chatList:[]},e.setChat=function(t){var a=e.props.match.params.id;return d.a.get("/api/chat/".concat(a)).then((function(t){e.setState({chatList:t.data})})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.id;return d.a.get("/api/chat/".concat(t)).then((function(t){e.setState({chatList:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props.user._id,a=this.state.chatList.filter((function(e){return e.userReceive._id===t})).map((function(t){return r.a.createElement("div",null,r.a.createElement(P,{setUser:e.props.setUser,setChat:e.setChat,chat:t,user:e.props.user}))})),n=this.state.chatList.filter((function(e){return e.userSend._id===t})).map((function(t){return r.a.createElement("div",null,r.a.createElement(P,{setUser:e.props.setUser,chat:t,setChat:e.setChat,user:e.props.user}))}));return r.a.createElement("div",null,r.a.createElement("h2",null,"Incoming Offers"),r.a.createElement("hr",null),a,r.a.createElement("hr",null),r.a.createElement("hr",null),r.a.createElement("h2",null,"Sent Offers"),r.a.createElement("hr",null),n)}}]),a}(n.Component),z=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={item:{owner:""},userSend:"",userReceive:"",message:"",owner:""},e.handleChange=function(t){var a=t.target,n=(a.name,a.value);e.setState({message:n})},e.handleSubmit=function(t){return t.preventDefault(),d.a.post("/api/chat",{userSend:e.props.user._id,userReceive:e.state.item.owner._id,item:e.state.item._id,messages:[{sentByOwner:!1,msg:e.state.message}]}).then((function(t){e.setState({item:{owner:""},userSend:"",userReceive:"",message:""}),e.props.setUser(e.props.user)})).then((function(){e.props.history.goBack()})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params.item;return d.a.get("/api/items/".concat(t)).then((function(t){e.setState({item:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.item,t=e.name,a=(e.category,e.location),n=e.status,l=e.owner,s=e.description;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Offer a Swap"),r.a.createElement("ul",null,r.a.createElement("li",null,"Posted by: ",r.a.createElement(k.b,{to:"/user/".concat(l._id)},l.username)),r.a.createElement("li",null,"Status: ",n),r.a.createElement("li",null,"Name: ",t),r.a.createElement("li",null,r.a.createElement("img",{src:"",alt:"item image"})),r.a.createElement("li",null,"Description: ",s),r.a.createElement("li",null,"Location: ",a)),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("textarea",{id:"offerSwap",onChange:this.handleChange,value:this.state.message,placeholder:"Send a Message"}),r.a.createElement("button",null,"Submit")))}}]),a}(n.Component),T=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={item:null,type:"",category:"",name:"",description:"",status:"",location:"",error:null,locationOptions:["Select Kiez","All","Charlottenburg","Friedrichshain","Kreuzberg","Mitte","Moabit","Neuk\xf6lln","Sch\xf6neberg","Wedding","Wilmersdorf","Janz weit drau\xdfen"]},e.getData=function(){var t=e.props.match.params.id;e.props.params;d.a.get("/api/items/".concat(t)).then((function(t){var a=t.data,n=a.location,r=a.type,l=a.description,s=a.name,c=a.category,i=a.status;e.setState({item:t.data,location:n,type:r,description:l,name:s,category:c,status:i})})).catch((function(t){404===t.response.status&&e.setState({error:"Item not found"})}))},e.componentDidMount=function(){e.getData()},e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(b.a)({},n,r))},e.handleSubmit=function(t){t.preventDefault(),console.log("running");var a=e.state,n=a.name,r=a.category,l=a.location,s=a.description,c=a.type,i=a.status;return console.log(n,r,l,s,c,i),"Service"===c&&(r="None",i="Available"),d.a.put("/api/items/edit/",{id:e.state.item._id,status:i,name:n,description:s,location:l,type:c,category:r}).then((function(t){e.setState({name:"",description:"",type:"",category:"",status:"",location:""})})).then((function(){e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state,t=e.item,a=e.locationOptions;return this.state.error?r.a.createElement("div",null,this.state.error):this.state.item?r.a.createElement("div",{className:"main"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Edit ",t.name)),r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Is this a service or thing?"),r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select"},r.a.createElement("select",{id:"type",value:this.state.type,name:"type",onChange:this.handleChange},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"Thing"},"Thing"),r.a.createElement("option",{value:"Service"},"Service"))))),"Service"!==this.state.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{class:"field"},r.a.createElement("label",{class:"label"},"Category"),r.a.createElement("div",{class:"control"},r.a.createElement("div",{class:"select"},r.a.createElement("select",{id:"category",name:"category",onChange:this.handleChange,value:this.state.category},r.a.createElement("option",{value:""},"Select"),r.a.createElement("option",{value:"Furniture"},"Furniture"),r.a.createElement("option",{value:"Plants"},"Plants")))))),r.a.createElement("div",{class:"field"},r.a.createElement("label",{htmlFor:"name",class:"label"},"Name"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{class:"input",type:"text",name:"name",value:this.state.name,onChange:this.handleChange,id:"name",placeholder:"Name of item"}))),r.a.createElement("div",{class:"field"},r.a.createElement("label",{htmlFor:"description",class:"label"},"Description"),r.a.createElement("div",{class:"control"},r.a.createElement("input",{class:"input",type:"text",name:"description",value:this.state.description,onChange:this.handleChange,id:"description",placeholder:"Add a description"}))),r.a.createElement("label",{class:"label"},"Location:"),r.a.createElement("div",{className:"select"},r.a.createElement("select",{name:"location",value:this.state.location,onChange:this.handleChange},a.map((function(e){return r.a.createElement("option",{value:e,key:e},e)})))),"Service"!==t.type&&r.a.createElement(r.a.Fragment,null),"Service"!==t.type&&r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{htmlFor:"status",class:"label"},"Status"),r.a.createElement("div",{class:"select"},r.a.createElement("select",{id:"status",name:"status",onChange:this.handleChange,value:this.state.status},r.a.createElement("option",{value:"Available"},"Available"),r.a.createElement("option",{value:"Reserved"},"Reserved"),r.a.createElement("option",{value:"Swapped"},"Swapped")))),r.a.createElement("div",{class:"control"},r.a.createElement("button",{type:"submit",value:"add",class:"button is-link is-light"},"Edit")))):r.a.createElement("div",null)}}]),a}(n.Component),R=function(e){Object(o.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={user:e.props.user,allItems:[]},e.setUser=function(t){e.setState({user:t})},e.getData=function(){d.a.get("/api/items").then((function(t){e.setState({allItems:t.data})})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;d.a.get("/api/items").then((function(t){e.setState({allItems:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(g,{user:this.state.user,setUser:this.setUser}),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:f}),r.a.createElement(u.a,{exact:!0,path:"/edit",render:function(t){return r.a.createElement(j,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),r.a.createElement(u.a,{exact:!0,path:"/signup",render:function(t){return r.a.createElement(y,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(u.a,{exact:!0,path:"/messages/:id",render:function(t){return r.a.createElement(W,Object.assign({setUser:e.setUser,user:e.state.user},t))}}),r.a.createElement(u.a,{exact:!0,path:"/login",render:function(t){return r.a.createElement(S,Object.assign({setUser:e.setUser},t))}}),r.a.createElement(u.a,{exact:!0,path:"/add",render:function(t){return r.a.createElement(F,Object.assign({user:e.state.user,setUser:e.setUser,getData:e.getData},t))}}),r.a.createElement(u.a,{exact:!0,path:"/swap/:item",render:function(t){return r.a.createElement(z,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),r.a.createElement(u.a,{exact:!0,path:"/items/:id",render:function(t){return r.a.createElement(T,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),r.a.createElement(u.a,{exact:!0,path:"/finduser",render:function(e){return r.a.createElement(x,e)}}),r.a.createElement(u.a,{exact:!0,path:"/user/:userId",render:function(t){return r.a.createElement(M,Object.assign({user:e.state.user,setUser:e.setUser},t))}}),r.a.createElement(u.a,{exact:!0,path:"/search",render:function(t){return r.a.createElement(I,Object.assign({itemsList:e.state.allItems,user:e.state.user},t))}}),r.a.createElement(u.a,{exact:!0,path:"/myfavs",render:function(e){return r.a.createElement(L,e)}}),r.a.createElement(u.a,{exact:!0,path:"/dashboard",render:function(t){return r.a.createElement(A,{setUser:e.setUser,itemsList:e.state.allItems,user:e.state.user})}}),r.a.createElement(u.a,{exact:!0,path:"/:notfound",component:D})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.get("/api/auth/loggedin").then((function(e){var t=e.data;s.a.render(r.a.createElement(k.a,null,r.a.createElement(R,{user:t})),document.getElementById("root"))})),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[36,1,2]]]);
//# sourceMappingURL=main.6b5fd066.chunk.js.map